# Школьный чат
## Задача

Разработать клиент-серверное приложение SchoolChat

## Требования

- Вход в систему по логину – дополнительных проверок не надо делать
- Историю чатов хранить не нужно
- Сервер должен уметь отправить сообщение пользователю и получать все сообщения адресованные текущему пользователю
- При входе нового пользователя все участники чата получают нотификацию (сообщение от пользователя system)

## Описание решения

В ходе выполнения задания разработано клиент-серверное приложение SchoolChat, а именно классы Client и Server.

Клиент вводит свой логин, из которого удаляются пробелы, подключается к серверу с заданным номером порта. Далее создается поток, в котором получаем ответы от сервера и выводим их на консоль, а в основном потоке считываем команды клиента через консоль.

Всего имеется 4 типа команд: 
- getMessages - выводит сообщения, адресуемые текущему пользователю от других участников чата
- activeUsers - выводит логины текущих участников чата
- disconnect - отправляет на сервер сообщение, что пользователь отключается из чата
- clientTo>>message -отправляет сообщение message пользователю с логином clientTo

Если введенная команда не совпадает ни с одной из выше указанных, пользователю предлагается повторно ввести команду.

## Алгоритм работы сервера:

Создается серверный сокет и ожидаются новые соединения. Как только соединение произошло, считываем логин клиента. Если в чате уже имеется клиент с совпадающим логином, новому клиенту к логину добавляется суффикс "[%d]", где %d - индекс пользователя, на случай если клиентов с одинаковым логином несколько.

Остальным пользователям отправляется сообщение о подключении нового пользователя и его логин.

Далее для нового клиента создается история сообщений и поток, слушающий сообщения от этого клиента.

В потоке при получении команды getmessages пользователю отправляется его история сообщений; при получении activeusers отправляются логины текущих пользователей; при disconnect удаляется история сообщений для текущего пользователя и происходит уведомление остальных клиентов об отключении пользователя.

Если была получена команда формата clientTo>>message, то происходит попытка отправить сообщение message пользователю clientTo.

## Итоги

При разработке приложения были получены навыки управления потоками с помощью сокетов, передачи между ними данных.
